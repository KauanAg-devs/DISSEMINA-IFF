<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Interativo</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        body { margin: 0; padding: 0; }
        #map { height: 100vh; }
        #altitude { position: absolute; top: 10px; left: 10px; background: white; padding: 5px; border-radius: 5px; }
    </style>
</head>
<body>

<div id="map"></div>
<div id="altitude"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
    // Coordenadas de Quissamã, Rio de Janeiro, Brasil
    var quissamaCoordinates = [-21.4558, -41.4639];
    var altitudeQuissama = 1000; // Altitude inicial em metros acima do nível do mar

    var map = L.map('map').setView(quissamaCoordinates, 12); // Inicie o mapa em Quissamã com um zoom de 12

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    map.on('zoomend', function () {
        // Calcule a altitude com base na latitude e na resolução do zoom
        var latitude = quissamaCoordinates[0];
        var zoom = map.getZoom();
        var altitude = altitudeQuissama * Math.pow(2, 14 - zoom) * Math.cos(latitude * Math.PI / 180);
        
        document.getElementById('altitude').innerHTML = 'Altitude: ' + altitude.toFixed(2) + ' metros';
        console.log(altitude.toFixed(2)+" metros");
    });
</script>

</body>
</html>
